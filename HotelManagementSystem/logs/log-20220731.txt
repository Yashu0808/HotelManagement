2022-07-31 16:26:10.697 +05:30 [INF] Application Is Starting
2022-07-31 16:26:20.871 +05:30 [INF] Now listening on: https://localhost:7241
2022-07-31 16:26:20.878 +05:30 [INF] Now listening on: http://localhost:5241
2022-07-31 16:26:20.885 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2022-07-31 16:26:20.885 +05:30 [INF] Hosting environment: Development
2022-07-31 16:26:20.886 +05:30 [INF] Content root path: C:\Users\MSUSERSL123\source\repos\HotelManagementSystem\HotelManagementSystem
2022-07-31 16:26:24.011 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/swagger - -
2022-07-31 16:26:24.379 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/swagger - - - 301 0 - 380.2059ms
2022-07-31 16:26:24.394 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/swagger/index.html - -
2022-07-31 16:26:25.148 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/swagger/swagger-ui.css - -
2022-07-31 16:26:25.159 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/swagger/swagger-ui-bundle.js - -
2022-07-31 16:26:25.161 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/swagger/swagger-ui-standalone-preset.js - -
2022-07-31 16:26:25.170 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/_framework/aspnetcore-browser-refresh.js - -
2022-07-31 16:26:25.173 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/swagger/index.html - - - 200 - text/html;charset=utf-8 778.5859ms
2022-07-31 16:26:25.176 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/_vs/browserLink - -
2022-07-31 16:26:25.326 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/_framework/aspnetcore-browser-refresh.js - - - 200 12012 application/javascript;+charset=utf-8 156.0152ms
2022-07-31 16:26:25.336 +05:30 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2022-07-31 16:26:25.336 +05:30 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-07-31 16:26:25.336 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/swagger/swagger-ui-standalone-preset.js - - - 200 339486 application/javascript 174.6990ms
2022-07-31 16:26:25.336 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/swagger/swagger-ui.css - - - 200 143943 text/css 188.1397ms
2022-07-31 16:26:25.393 +05:30 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2022-07-31 16:26:25.394 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/swagger/swagger-ui-bundle.js - - - 200 1096145 application/javascript 234.9787ms
2022-07-31 16:26:25.440 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 263.9542ms
2022-07-31 16:26:25.796 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - -
2022-07-31 16:26:25.864 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/swagger/favicon-32x32.png - -
2022-07-31 16:26:25.866 +05:30 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2022-07-31 16:26:25.866 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/swagger/favicon-32x32.png - - - 200 628 image/png 2.7112ms
2022-07-31 16:26:26.191 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 395.8014ms
2022-07-31 16:26:41.362 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/api/Hotel?pageNumber=1&roomType=1&pageSize=3 - -
2022-07-31 16:26:41.385 +05:30 [INF] No cached response available for this request.
2022-07-31 16:26:41.586 +05:30 [INF] Executing endpoint 'Controllers.HotelController.GetHotels (HotelManagementSystem)'
2022-07-31 16:26:41.656 +05:30 [INF] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels(Shared.Models.RequestParams) on controller Controllers.HotelController (HotelManagementSystem).
2022-07-31 16:26:53.436 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2022-07-31 16:26:54.046 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HotelDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: SensitiveDataLoggingEnabled 
2022-07-31 16:26:57.465 +05:30 [INF] Executed DbCommand (115ms) [Parameters=[@__requestParams_RoomType_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Hotels] AS [h]
WHERE EXISTS (
    SELECT 1
    FROM [Rooms] AS [r]
    WHERE ([h].[Id] = [r].[HotelId]) AND (([r].[NumberOfRoomsAvailable] > 0) AND ([r].[RoomTypeVariantId] = @__requestParams_RoomType_0)))
2022-07-31 16:26:57.580 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-07-31 16:26:57.582 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-07-31 16:26:57.815 +05:30 [INF] Executed DbCommand (34ms) [Parameters=[@__requestParams_RoomType_0='1', @__p_1='0', @__p_2='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[Name], [t].[Rating], [r0].[Id], [r0].[HotelId], [r0].[NumberOfRoomsAvailable], [r0].[Price], [r0].[RoomTypeVariantId]
FROM (
    SELECT [h].[Id], [h].[Address], [h].[Name], [h].[Rating]
    FROM [Hotels] AS [h]
    WHERE EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]
        WHERE ([h].[Id] = [r].[HotelId]) AND (([r].[NumberOfRoomsAvailable] > 0) AND ([r].[RoomTypeVariantId] = @__requestParams_RoomType_0)))
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
LEFT JOIN [Rooms] AS [r0] ON [t].[Id] = [r0].[HotelId]
ORDER BY [t].[Id]
2022-07-31 16:26:58.144 +05:30 [INF] Executed action Controllers.HotelController.GetHotels (HotelManagementSystem) in 16474.9682ms
2022-07-31 16:26:58.148 +05:30 [INF] Executed endpoint 'Controllers.HotelController.GetHotels (HotelManagementSystem)'
2022-07-31 16:26:58.165 +05:30 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
StaticPagedList`1 -> IList`1
X.PagedList.StaticPagedList`1[[Data.Hotel, Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.IList`1[[Shared.HotelDTO, Shared, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Hotel -> HotelDTO
Data.Hotel -> Shared.HotelDTO
   at lambda_method89(Closure , Hotel , HotelDTO , ResolutionContext )
   at lambda_method88(Closure , Object , IList`1 , ResolutionContext )
   --- End of inner exception stack trace ---
   at lambda_method88(Closure , Object , IList`1 , ResolutionContext )
   at Controllers.HotelController.GetHotels(RequestParams requestParams) in C:\Users\MSUSERSL123\source\repos\HotelManagementSystem\HotelManagementSystem\Controllers\HotelController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at AspNetCoreRateLimit.RateLimitMiddleware`1.Invoke(HttpContext context) in C:\Users\User\Documents\Github\AspNetCoreRateLimit\src\AspNetCoreRateLimit\Middleware\RateLimitMiddleware.cs:line 124
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-07-31 16:26:58.729 +05:30 [ERR] Something Went Wrong in the AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
StaticPagedList`1 -> IList`1
X.PagedList.StaticPagedList`1[[Data.Hotel, Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.IList`1[[Shared.HotelDTO, Shared, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Hotel -> HotelDTO
Data.Hotel -> Shared.HotelDTO
   at lambda_method89(Closure , Hotel , HotelDTO , ResolutionContext )
   at lambda_method88(Closure , Object , IList`1 , ResolutionContext )
   --- End of inner exception stack trace ---
   at lambda_method88(Closure , Object , IList`1 , ResolutionContext )
   at Controllers.HotelController.GetHotels(RequestParams requestParams) in C:\Users\MSUSERSL123\source\repos\HotelManagementSystem\HotelManagementSystem\Controllers\HotelController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at AspNetCoreRateLimit.RateLimitMiddleware`1.Invoke(HttpContext context) in C:\Users\User\Documents\Github\AspNetCoreRateLimit\src\AspNetCoreRateLimit\Middleware\RateLimitMiddleware.cs:line 124
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-07-31 16:27:02.754 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/api/Hotel?pageNumber=1&roomType=1&pageSize=3 - - - 500 - application/json 21392.3415ms
2022-07-31 16:28:03.220 +05:30 [INF] Application Is Starting
2022-07-31 16:28:07.961 +05:30 [INF] Now listening on: https://localhost:7241
2022-07-31 16:28:07.966 +05:30 [INF] Now listening on: http://localhost:5241
2022-07-31 16:28:07.973 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2022-07-31 16:28:07.973 +05:30 [INF] Hosting environment: Development
2022-07-31 16:28:07.973 +05:30 [INF] Content root path: C:\Users\MSUSERSL123\source\repos\HotelManagementSystem\HotelManagementSystem
2022-07-31 16:28:10.365 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/swagger/index.html - -
2022-07-31 16:28:11.230 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/_framework/aspnetcore-browser-refresh.js - -
2022-07-31 16:28:11.230 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/_vs/browserLink - -
2022-07-31 16:28:11.287 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/_framework/aspnetcore-browser-refresh.js - - - 200 12012 application/javascript;+charset=utf-8 47.4840ms
2022-07-31 16:28:11.287 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/swagger/index.html - - - 200 - text/html;charset=utf-8 929.8178ms
2022-07-31 16:28:11.383 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 152.7074ms
2022-07-31 16:28:11.899 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - -
2022-07-31 16:28:12.378 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 480.1416ms
2022-07-31 16:28:29.437 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/api/Hotel?pageNumber=1&roomType=1&pageSize=10 - -
2022-07-31 16:28:29.458 +05:30 [INF] No cached response available for this request.
2022-07-31 16:28:29.645 +05:30 [INF] Executing endpoint 'Controllers.HotelController.GetHotels (HotelManagementSystem)'
2022-07-31 16:28:29.756 +05:30 [INF] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels(Shared.Models.RequestParams) on controller Controllers.HotelController (HotelManagementSystem).
2022-07-31 16:28:53.480 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2022-07-31 16:28:54.115 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HotelDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: SensitiveDataLoggingEnabled 
2022-07-31 16:28:56.487 +05:30 [INF] Executed DbCommand (137ms) [Parameters=[@__requestParams_RoomType_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Hotels] AS [h]
WHERE EXISTS (
    SELECT 1
    FROM [Rooms] AS [r]
    WHERE ([h].[Id] = [r].[HotelId]) AND (([r].[NumberOfRoomsAvailable] > 0) AND ([r].[RoomTypeVariantId] = @__requestParams_RoomType_0)))
2022-07-31 16:28:56.611 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-07-31 16:28:56.613 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-07-31 16:28:56.855 +05:30 [INF] Executed DbCommand (23ms) [Parameters=[@__requestParams_RoomType_0='1', @__p_1='0', @__p_2='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[Name], [t].[Rating], [r0].[Id], [r0].[HotelId], [r0].[NumberOfRoomsAvailable], [r0].[Price], [r0].[RoomTypeVariantId]
FROM (
    SELECT [h].[Id], [h].[Address], [h].[Name], [h].[Rating]
    FROM [Hotels] AS [h]
    WHERE EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]
        WHERE ([h].[Id] = [r].[HotelId]) AND (([r].[NumberOfRoomsAvailable] > 0) AND ([r].[RoomTypeVariantId] = @__requestParams_RoomType_0)))
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
LEFT JOIN [Rooms] AS [r0] ON [t].[Id] = [r0].[HotelId]
ORDER BY [t].[Id]
2022-07-31 16:31:36.778 +05:30 [INF] Application Is Starting
2022-07-31 16:31:40.932 +05:30 [INF] Now listening on: https://localhost:7241
2022-07-31 16:31:40.940 +05:30 [INF] Now listening on: http://localhost:5241
2022-07-31 16:31:40.947 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2022-07-31 16:31:40.947 +05:30 [INF] Hosting environment: Development
2022-07-31 16:31:40.947 +05:30 [INF] Content root path: C:\Users\MSUSERSL123\source\repos\HotelManagementSystem\HotelManagementSystem
2022-07-31 16:31:43.830 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/swagger/index.html - -
2022-07-31 16:31:44.764 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/_vs/browserLink - -
2022-07-31 16:31:44.765 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/_framework/aspnetcore-browser-refresh.js - -
2022-07-31 16:31:44.841 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/_framework/aspnetcore-browser-refresh.js - - - 200 12012 application/javascript;+charset=utf-8 68.0352ms
2022-07-31 16:31:44.929 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/swagger/index.html - - - 200 - text/html;charset=utf-8 1111.6716ms
2022-07-31 16:31:44.967 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 202.3453ms
2022-07-31 16:31:45.277 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - -
2022-07-31 16:31:45.840 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 563.3128ms
2022-07-31 16:32:02.695 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/api/Hotel?pageNumber=1&roomType=1&pageSize=10 - -
2022-07-31 16:32:02.713 +05:30 [INF] No cached response available for this request.
2022-07-31 16:32:02.931 +05:30 [INF] Executing endpoint 'Controllers.HotelController.GetHotels (HotelManagementSystem)'
2022-07-31 16:32:03.004 +05:30 [INF] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels(Shared.Models.RequestParams) on controller Controllers.HotelController (HotelManagementSystem).
2022-07-31 16:32:09.755 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2022-07-31 16:32:10.392 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HotelDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: SensitiveDataLoggingEnabled 
2022-07-31 16:32:12.706 +05:30 [INF] Executed DbCommand (175ms) [Parameters=[@__requestParams_RoomType_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Hotels] AS [h]
WHERE EXISTS (
    SELECT 1
    FROM [Rooms] AS [r]
    WHERE ([h].[Id] = [r].[HotelId]) AND (([r].[NumberOfRoomsAvailable] > 0) AND ([r].[RoomTypeVariantId] = @__requestParams_RoomType_0)))
2022-07-31 16:32:12.810 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-07-31 16:32:12.811 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-07-31 16:32:13.087 +05:30 [INF] Executed DbCommand (25ms) [Parameters=[@__requestParams_RoomType_0='1', @__p_1='0', @__p_2='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[Name], [t].[Rating], [r0].[Id], [r0].[HotelId], [r0].[NumberOfRoomsAvailable], [r0].[Price], [r0].[RoomTypeVariantId]
FROM (
    SELECT [h].[Id], [h].[Address], [h].[Name], [h].[Rating]
    FROM [Hotels] AS [h]
    WHERE EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]
        WHERE ([h].[Id] = [r].[HotelId]) AND (([r].[NumberOfRoomsAvailable] > 0) AND ([r].[RoomTypeVariantId] = @__requestParams_RoomType_0)))
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
LEFT JOIN [Rooms] AS [r0] ON [t].[Id] = [r0].[HotelId]
ORDER BY [t].[Id]
2022-07-31 16:32:40.585 +05:30 [INF] Executed action Controllers.HotelController.GetHotels (HotelManagementSystem) in 37573.1791ms
2022-07-31 16:32:40.589 +05:30 [INF] Executed endpoint 'Controllers.HotelController.GetHotels (HotelManagementSystem)'
2022-07-31 16:32:40.599 +05:30 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
StaticPagedList`1 -> IList`1
X.PagedList.StaticPagedList`1[[Data.Hotel, Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.IList`1[[Shared.HotelDTO, Shared, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Hotel -> HotelDTO
Data.Hotel -> Shared.HotelDTO
   at lambda_method89(Closure , Hotel , HotelDTO , ResolutionContext )
   at lambda_method88(Closure , Object , IList`1 , ResolutionContext )
   --- End of inner exception stack trace ---
   at lambda_method88(Closure , Object , IList`1 , ResolutionContext )
   at Controllers.HotelController.GetHotels(RequestParams requestParams) in C:\Users\MSUSERSL123\source\repos\HotelManagementSystem\HotelManagementSystem\Controllers\HotelController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at AspNetCoreRateLimit.RateLimitMiddleware`1.Invoke(HttpContext context) in C:\Users\User\Documents\Github\AspNetCoreRateLimit\src\AspNetCoreRateLimit\Middleware\RateLimitMiddleware.cs:line 124
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-07-31 16:32:40.804 +05:30 [ERR] Something Went Wrong in the AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
StaticPagedList`1 -> IList`1
X.PagedList.StaticPagedList`1[[Data.Hotel, Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.IList`1[[Shared.HotelDTO, Shared, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Hotel -> HotelDTO
Data.Hotel -> Shared.HotelDTO
   at lambda_method89(Closure , Hotel , HotelDTO , ResolutionContext )
   at lambda_method88(Closure , Object , IList`1 , ResolutionContext )
   --- End of inner exception stack trace ---
   at lambda_method88(Closure , Object , IList`1 , ResolutionContext )
   at Controllers.HotelController.GetHotels(RequestParams requestParams) in C:\Users\MSUSERSL123\source\repos\HotelManagementSystem\HotelManagementSystem\Controllers\HotelController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at AspNetCoreRateLimit.RateLimitMiddleware`1.Invoke(HttpContext context) in C:\Users\User\Documents\Github\AspNetCoreRateLimit\src\AspNetCoreRateLimit\Middleware\RateLimitMiddleware.cs:line 124
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-07-31 16:32:55.263 +05:30 [INF] Application Is Starting
2022-07-31 16:32:59.459 +05:30 [INF] Now listening on: https://localhost:7241
2022-07-31 16:32:59.467 +05:30 [INF] Now listening on: http://localhost:5241
2022-07-31 16:32:59.474 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2022-07-31 16:32:59.474 +05:30 [INF] Hosting environment: Development
2022-07-31 16:32:59.474 +05:30 [INF] Content root path: C:\Users\MSUSERSL123\source\repos\HotelManagementSystem\HotelManagementSystem
2022-07-31 16:33:01.788 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/swagger/index.html - -
2022-07-31 16:33:02.704 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/swagger/index.html - - - 200 - text/html;charset=utf-8 925.8713ms
2022-07-31 16:33:02.751 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/_framework/aspnetcore-browser-refresh.js - -
2022-07-31 16:33:02.752 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/_vs/browserLink - -
2022-07-31 16:33:02.784 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/_framework/aspnetcore-browser-refresh.js - - - 200 12012 application/javascript;+charset=utf-8 32.5802ms
2022-07-31 16:33:02.886 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 133.5041ms
2022-07-31 16:33:03.032 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - -
2022-07-31 16:33:03.587 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 554.7292ms
2022-07-31 16:33:17.833 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/api/Hotel?pageNumber=1&roomType=1&pageSize=1 - -
2022-07-31 16:33:17.854 +05:30 [INF] No cached response available for this request.
2022-07-31 16:33:18.039 +05:30 [INF] Executing endpoint 'Controllers.HotelController.GetHotels (HotelManagementSystem)'
2022-07-31 16:33:18.089 +05:30 [INF] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels(Shared.Models.RequestParams) on controller Controllers.HotelController (HotelManagementSystem).
2022-07-31 16:33:19.968 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2022-07-31 16:33:20.469 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HotelDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: SensitiveDataLoggingEnabled 
2022-07-31 16:33:22.356 +05:30 [INF] Executed DbCommand (118ms) [Parameters=[@__requestParams_RoomType_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Hotels] AS [h]
WHERE EXISTS (
    SELECT 1
    FROM [Rooms] AS [r]
    WHERE ([h].[Id] = [r].[HotelId]) AND (([r].[NumberOfRoomsAvailable] > 0) AND ([r].[RoomTypeVariantId] = @__requestParams_RoomType_0)))
2022-07-31 16:33:22.499 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-07-31 16:33:22.500 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-07-31 16:33:22.757 +05:30 [INF] Executed DbCommand (29ms) [Parameters=[@__requestParams_RoomType_0='1', @__p_1='0', @__p_2='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[Name], [t].[Rating], [r0].[Id], [r0].[HotelId], [r0].[NumberOfRoomsAvailable], [r0].[Price], [r0].[RoomTypeVariantId]
FROM (
    SELECT [h].[Id], [h].[Address], [h].[Name], [h].[Rating]
    FROM [Hotels] AS [h]
    WHERE EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]
        WHERE ([h].[Id] = [r].[HotelId]) AND (([r].[NumberOfRoomsAvailable] > 0) AND ([r].[RoomTypeVariantId] = @__requestParams_RoomType_0)))
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
LEFT JOIN [Rooms] AS [r0] ON [t].[Id] = [r0].[HotelId]
ORDER BY [t].[Id]
2022-07-31 16:36:13.645 +05:30 [INF] Application Is Starting
2022-07-31 16:36:18.175 +05:30 [INF] Now listening on: https://localhost:7241
2022-07-31 16:36:18.185 +05:30 [INF] Now listening on: http://localhost:5241
2022-07-31 16:36:18.194 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2022-07-31 16:36:18.197 +05:30 [INF] Hosting environment: Development
2022-07-31 16:36:18.197 +05:30 [INF] Content root path: C:\Users\MSUSERSL123\source\repos\HotelManagementSystem\HotelManagementSystem
2022-07-31 16:36:20.300 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/swagger/index.html - -
2022-07-31 16:36:21.164 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/swagger/index.html - - - 200 - text/html;charset=utf-8 871.1578ms
2022-07-31 16:36:21.211 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/_framework/aspnetcore-browser-refresh.js - -
2022-07-31 16:36:21.223 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/_framework/aspnetcore-browser-refresh.js - - - 200 12012 application/javascript;+charset=utf-8 12.3940ms
2022-07-31 16:36:21.303 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/_vs/browserLink - -
2022-07-31 16:36:21.439 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 136.5801ms
2022-07-31 16:36:22.199 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - -
2022-07-31 16:36:22.593 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 394.1994ms
2022-07-31 16:36:37.281 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/api/Hotel?pageNumber=1&roomType=1&pageSize=10 - -
2022-07-31 16:36:37.299 +05:30 [INF] No cached response available for this request.
2022-07-31 16:36:37.554 +05:30 [INF] Executing endpoint 'Controllers.HotelController.GetHotels (HotelManagementSystem)'
2022-07-31 16:36:37.662 +05:30 [INF] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels(Shared.Models.RequestParams) on controller Controllers.HotelController (HotelManagementSystem).
2022-07-31 16:36:39.912 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2022-07-31 16:36:40.473 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HotelDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: SensitiveDataLoggingEnabled 
2022-07-31 16:36:42.546 +05:30 [INF] Executed DbCommand (136ms) [Parameters=[@__requestParams_RoomType_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Hotels] AS [h]
WHERE EXISTS (
    SELECT 1
    FROM [Rooms] AS [r]
    WHERE ([h].[Id] = [r].[HotelId]) AND (([r].[NumberOfRoomsAvailable] > 0) AND ([r].[RoomTypeVariantId] = @__requestParams_RoomType_0)))
2022-07-31 16:36:42.717 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-07-31 16:36:42.720 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-07-31 16:36:42.970 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@__requestParams_RoomType_0='1', @__p_1='0', @__p_2='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[Name], [t].[Rating], [r0].[Id], [r0].[HotelId], [r0].[NumberOfRoomsAvailable], [r0].[Price], [r0].[RoomTypeVariantId]
FROM (
    SELECT [h].[Id], [h].[Address], [h].[Name], [h].[Rating]
    FROM [Hotels] AS [h]
    WHERE EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]
        WHERE ([h].[Id] = [r].[HotelId]) AND (([r].[NumberOfRoomsAvailable] > 0) AND ([r].[RoomTypeVariantId] = @__requestParams_RoomType_0)))
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
LEFT JOIN [Rooms] AS [r0] ON [t].[Id] = [r0].[HotelId]
ORDER BY [t].[Id]
2022-07-31 16:39:43.432 +05:30 [INF] Application Is Starting
2022-07-31 16:39:48.275 +05:30 [INF] Now listening on: https://localhost:7241
2022-07-31 16:39:48.281 +05:30 [INF] Now listening on: http://localhost:5241
2022-07-31 16:39:48.288 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2022-07-31 16:39:48.289 +05:30 [INF] Hosting environment: Development
2022-07-31 16:39:48.289 +05:30 [INF] Content root path: C:\Users\MSUSERSL123\source\repos\HotelManagementSystem\HotelManagementSystem
2022-07-31 16:39:50.912 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/swagger/index.html - -
2022-07-31 16:39:51.857 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/swagger/index.html - - - 200 - text/html;charset=utf-8 955.4367ms
2022-07-31 16:39:51.902 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/_framework/aspnetcore-browser-refresh.js - -
2022-07-31 16:39:51.916 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/_framework/aspnetcore-browser-refresh.js - - - 200 12012 application/javascript;+charset=utf-8 13.9257ms
2022-07-31 16:39:51.996 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/_vs/browserLink - -
2022-07-31 16:39:52.097 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 100.5813ms
2022-07-31 16:39:52.662 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - -
2022-07-31 16:39:53.069 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 407.0344ms
2022-07-31 16:40:18.951 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/api/Hotel?pageNumber=1&roomType=1&pageSize=10 - -
2022-07-31 16:40:18.969 +05:30 [INF] No cached response available for this request.
2022-07-31 16:40:19.151 +05:30 [INF] Executing endpoint 'Controllers.HotelController.GetHotels (HotelManagementSystem)'
2022-07-31 16:40:19.217 +05:30 [INF] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels(Shared.Models.RequestParams) on controller Controllers.HotelController (HotelManagementSystem).
2022-07-31 16:40:21.246 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2022-07-31 16:40:21.749 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HotelDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: SensitiveDataLoggingEnabled 
2022-07-31 16:40:23.744 +05:30 [INF] Executed DbCommand (136ms) [Parameters=[@__requestParams_RoomType_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Hotels] AS [h]
WHERE EXISTS (
    SELECT 1
    FROM [Rooms] AS [r]
    WHERE ([h].[Id] = [r].[HotelId]) AND (([r].[NumberOfRoomsAvailable] > 0) AND ([r].[RoomTypeVariantId] = @__requestParams_RoomType_0)))
2022-07-31 16:40:23.887 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-07-31 16:40:23.889 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-07-31 16:40:24.118 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__requestParams_RoomType_0='1', @__p_1='0', @__p_2='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[Name], [t].[Rating], [r0].[Id], [r0].[HotelId], [r0].[NumberOfRoomsAvailable], [r0].[Price], [r0].[RoomTypeVariantId]
FROM (
    SELECT [h].[Id], [h].[Address], [h].[Name], [h].[Rating]
    FROM [Hotels] AS [h]
    WHERE EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]
        WHERE ([h].[Id] = [r].[HotelId]) AND (([r].[NumberOfRoomsAvailable] > 0) AND ([r].[RoomTypeVariantId] = @__requestParams_RoomType_0)))
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
LEFT JOIN [Rooms] AS [r0] ON [t].[Id] = [r0].[HotelId]
ORDER BY [t].[Id]
2022-07-31 16:40:24.189 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Shared.HotelDTO, Shared, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-07-31 16:40:24.534 +05:30 [INF] Executed action Controllers.HotelController.GetHotels (HotelManagementSystem) in 5305.1595ms
2022-07-31 16:40:24.536 +05:30 [INF] Executed endpoint 'Controllers.HotelController.GetHotels (HotelManagementSystem)'
2022-07-31 16:40:24.540 +05:30 [INF] The response could not be cached for this request.
2022-07-31 16:40:51.446 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/api/Hotel/1 - -
2022-07-31 16:40:51.452 +05:30 [INF] No cached response available for this request.
2022-07-31 16:40:51.455 +05:30 [INF] Executing endpoint 'Controllers.HotelController.GetHotel (HotelManagementSystem)'
2022-07-31 16:40:51.458 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/api/Hotel?pageNumber=1&roomType=1&pageSize=10 - - - 200 416 application/json;+charset=utf-8 32507.3449ms
2022-07-31 16:40:51.462 +05:30 [INF] Route matched with {action = "GetHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotel(Int32) on controller Controllers.HotelController (HotelManagementSystem).
2022-07-31 16:40:51.549 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HotelDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: SensitiveDataLoggingEnabled 
2022-07-31 16:40:51.722 +05:30 [INF] Executed DbCommand (102ms) [Parameters=[@__id_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[Name], [t].[Rating], [r].[Id], [r].[HotelId], [r].[NumberOfRoomsAvailable], [r].[Price], [r].[RoomTypeVariantId]
FROM (
    SELECT TOP(1) [h].[Id], [h].[Address], [h].[Name], [h].[Rating]
    FROM [Hotels] AS [h]
    WHERE [h].[Id] = @__id_0
) AS [t]
LEFT JOIN [Rooms] AS [r] ON [t].[Id] = [r].[HotelId]
ORDER BY [t].[Id]
2022-07-31 16:40:51.775 +05:30 [INF] Executing OkObjectResult, writing value of type 'Shared.HotelDTO'.
2022-07-31 16:40:51.776 +05:30 [INF] Executed action Controllers.HotelController.GetHotel (HotelManagementSystem) in 314.0386ms
2022-07-31 16:40:51.776 +05:30 [INF] Executed endpoint 'Controllers.HotelController.GetHotel (HotelManagementSystem)'
2022-07-31 16:40:51.776 +05:30 [INF] The response could not be cached for this request.
2022-07-31 16:40:52.595 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/api/Hotel/1 - - - 200 208 application/json;+charset=utf-8 1149.2457ms
2022-07-31 16:41:56.274 +05:30 [INF] Application Is Starting
2022-07-31 16:42:00.489 +05:30 [INF] Now listening on: https://localhost:7241
2022-07-31 16:42:00.497 +05:30 [INF] Now listening on: http://localhost:5241
2022-07-31 16:42:00.505 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2022-07-31 16:42:00.505 +05:30 [INF] Hosting environment: Development
2022-07-31 16:42:00.505 +05:30 [INF] Content root path: C:\Users\MSUSERSL123\source\repos\HotelManagementSystem\HotelManagementSystem
2022-07-31 16:42:02.605 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/swagger/index.html - -
2022-07-31 16:42:03.404 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/_framework/aspnetcore-browser-refresh.js - -
2022-07-31 16:42:03.404 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/_vs/browserLink - -
2022-07-31 16:42:03.430 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/_framework/aspnetcore-browser-refresh.js - - - 200 12012 application/javascript;+charset=utf-8 23.0440ms
2022-07-31 16:42:03.430 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/swagger/index.html - - - 200 - text/html;charset=utf-8 842.1206ms
2022-07-31 16:42:03.544 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 140.1594ms
2022-07-31 16:42:03.729 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - -
2022-07-31 16:42:04.166 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 436.7350ms
2022-07-31 16:42:40.525 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7241/api/Booking application/json-patch+json 151
2022-07-31 16:42:40.534 +05:30 [INF] CORS policy execution successful.
2022-07-31 16:42:40.704 +05:30 [INF] Executing endpoint 'Controllers.BookingController.Book (HotelManagementSystem)'
2022-07-31 16:42:40.798 +05:30 [INF] Route matched with {action = "Book", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Book(Shared.Models.BookingRequestParams) on controller Controllers.BookingController (HotelManagementSystem).
2022-07-31 16:42:50.577 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2022-07-31 16:42:51.239 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HotelDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: SensitiveDataLoggingEnabled 
2022-07-31 16:43:00.175 +05:30 [INF] Executed DbCommand (242ms) [Parameters=[@__rq_HotelId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[Name], [t].[Rating], [r].[Id], [r].[HotelId], [r].[NumberOfRoomsAvailable], [r].[Price], [r].[RoomTypeVariantId]
FROM (
    SELECT TOP(1) [h].[Id], [h].[Address], [h].[Name], [h].[Rating]
    FROM [Hotels] AS [h]
    WHERE [h].[Id] = @__rq_HotelId_0
) AS [t]
LEFT JOIN [Rooms] AS [r] ON [t].[Id] = [r].[HotelId]
ORDER BY [t].[Id]
2022-07-31 16:43:09.162 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p1='2', @p0='-1', @p2='4'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Rooms] SET [NumberOfRoomsAvailable] = @p0
WHERE [Id] = @p1 AND [NumberOfRoomsAvailable] = @p2;
SELECT @@ROWCOUNT;
2022-07-31 16:43:28.000 +05:30 [INF] Executed DbCommand (161ms) [Parameters=[@p0='2022-07-31T11:12:13.4160000Z', @p1='1', @p2='2', @p3='5', @p4='2022-07-31T11:12:13.4160000Z', @p5='1'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Bookings] ([EndTime], [HotelId], [RoomId], [RoomsAllotted], [StartTime], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [Bookings]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-31 16:43:48.416 +05:30 [INF] Executing OkObjectResult, writing value of type 'Shared.BookingDTO'.
2022-07-31 16:43:48.520 +05:30 [INF] Executed action Controllers.BookingController.Book (HotelManagementSystem) in 67711.0623ms
2022-07-31 16:43:48.522 +05:30 [INF] Executed endpoint 'Controllers.BookingController.Book (HotelManagementSystem)'
2022-07-31 16:43:50.351 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7241/api/Booking application/json-patch+json 151 - 200 136 application/json;+charset=utf-8 69826.3961ms
2022-07-31 16:48:12.019 +05:30 [INF] Application Is Starting
2022-07-31 16:49:01.965 +05:30 [INF] Application Is Starting
2022-07-31 16:49:05.826 +05:30 [INF] Now listening on: https://localhost:7241
2022-07-31 16:49:05.837 +05:30 [INF] Now listening on: http://localhost:5241
2022-07-31 16:49:05.847 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2022-07-31 16:49:05.848 +05:30 [INF] Hosting environment: Development
2022-07-31 16:49:05.848 +05:30 [INF] Content root path: C:\Users\MSUSERSL123\source\repos\HotelManagementSystem\HotelManagementSystem
2022-07-31 16:49:07.713 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/swagger/index.html - -
2022-07-31 16:49:08.746 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/_framework/aspnetcore-browser-refresh.js - -
2022-07-31 16:49:08.772 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/_vs/browserLink - -
2022-07-31 16:49:08.782 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/_framework/aspnetcore-browser-refresh.js - - - 200 12012 application/javascript;+charset=utf-8 32.4577ms
2022-07-31 16:49:08.782 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/swagger/index.html - - - 200 - text/html;charset=utf-8 1083.3388ms
2022-07-31 16:49:09.104 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 332.6322ms
2022-07-31 16:49:09.497 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - -
2022-07-31 16:49:10.106 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 608.7706ms
2022-07-31 16:49:24.625 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7241/api/Booking application/json-patch+json 151
2022-07-31 16:49:24.658 +05:30 [INF] CORS policy execution successful.
2022-07-31 16:49:24.981 +05:30 [INF] Executing endpoint 'Controllers.BookingController.Book (HotelManagementSystem)'
2022-07-31 16:49:25.048 +05:30 [INF] Route matched with {action = "Book", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Book(Shared.Models.BookingRequestParams) on controller Controllers.BookingController (HotelManagementSystem).
2022-07-31 16:49:37.888 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2022-07-31 16:49:38.568 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HotelDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: SensitiveDataLoggingEnabled 
2022-07-31 16:49:45.288 +05:30 [INF] Executed DbCommand (256ms) [Parameters=[@__rq_HotelId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[Name], [t].[Rating], [r].[Id], [r].[HotelId], [r].[NumberOfRoomsAvailable], [r].[Price], [r].[RoomTypeVariantId]
FROM (
    SELECT TOP(1) [h].[Id], [h].[Address], [h].[Name], [h].[Rating]
    FROM [Hotels] AS [h]
    WHERE [h].[Id] = @__rq_HotelId_0
) AS [t]
LEFT JOIN [Rooms] AS [r] ON [t].[Id] = [r].[HotelId]
ORDER BY [t].[Id]
2022-07-31 16:49:52.369 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p1='2', @p0='0', @p2='5'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Rooms] SET [NumberOfRoomsAvailable] = @p0
WHERE [Id] = @p1 AND [NumberOfRoomsAvailable] = @p2;
SELECT @@ROWCOUNT;
2022-07-31 16:49:58.689 +05:30 [INF] Executed DbCommand (51ms) [Parameters=[@p0='2022-07-31T11:19:14.2420000Z', @p1='1', @p2='2', @p3='5', @p4='2022-07-31T11:19:14.2420000Z', @p5='1'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Bookings] ([EndTime], [HotelId], [RoomId], [RoomsAllotted], [StartTime], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [Bookings]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-31 16:50:03.232 +05:30 [INF] Executing OkObjectResult, writing value of type 'Shared.BookingDTO'.
2022-07-31 16:50:03.336 +05:30 [INF] Executed action Controllers.BookingController.Book (HotelManagementSystem) in 38280.5913ms
2022-07-31 16:50:03.338 +05:30 [INF] Executed endpoint 'Controllers.BookingController.Book (HotelManagementSystem)'
2022-07-31 16:50:06.160 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7241/api/Booking application/json-patch+json 151 - 200 136 application/json;+charset=utf-8 41534.6300ms
2022-07-31 16:50:27.266 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7241/api/Booking application/json-patch+json 152
2022-07-31 16:50:27.266 +05:30 [INF] CORS policy execution successful.
2022-07-31 16:50:27.270 +05:30 [INF] Executing endpoint 'Controllers.BookingController.Book (HotelManagementSystem)'
2022-07-31 16:50:27.271 +05:30 [INF] Route matched with {action = "Book", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Book(Shared.Models.BookingRequestParams) on controller Controllers.BookingController (HotelManagementSystem).
2022-07-31 16:50:29.758 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HotelDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: SensitiveDataLoggingEnabled 
2022-07-31 16:50:37.139 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__rq_HotelId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[Name], [t].[Rating], [r].[Id], [r].[HotelId], [r].[NumberOfRoomsAvailable], [r].[Price], [r].[RoomTypeVariantId]
FROM (
    SELECT TOP(1) [h].[Id], [h].[Address], [h].[Name], [h].[Rating]
    FROM [Hotels] AS [h]
    WHERE [h].[Id] = @__rq_HotelId_0
) AS [t]
LEFT JOIN [Rooms] AS [r] ON [t].[Id] = [r].[HotelId]
ORDER BY [t].[Id]
2022-07-31 16:50:37.174 +05:30 [ERR] Failed executing DbCommand (28ms) [Parameters=[@p1='2', @p0='-5', @p2='5'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Rooms] SET [NumberOfRoomsAvailable] = @p0
WHERE [Id] = @p1 AND [NumberOfRoomsAvailable] = @p2;
SELECT @@ROWCOUNT;
2022-07-31 16:50:37.290 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'Data.HotelDBContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the CHECK constraint "CheckGreaterThanZero". The conflict occurred in database "HotelManagement", table "dbo.Rooms", column 'NumberOfRoomsAvailable'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:336daef3-dc58-4730-b888-932a733434e7
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the CHECK constraint "CheckGreaterThanZero". The conflict occurred in database "HotelManagement", table "dbo.Rooms", column 'NumberOfRoomsAvailable'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:336daef3-dc58-4730-b888-932a733434e7
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2022-07-31 16:50:39.737 +05:30 [INF] Executing OkObjectResult, writing value of type 'null'.
2022-07-31 16:50:39.737 +05:30 [INF] Executed action Controllers.BookingController.Book (HotelManagementSystem) in 12466.1246ms
2022-07-31 16:50:39.737 +05:30 [INF] Executed endpoint 'Controllers.BookingController.Book (HotelManagementSystem)'
2022-07-31 16:50:40.773 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7241/api/Booking application/json-patch+json 152 - 204 0 - 13511.0747ms
2022-07-31 16:51:28.206 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7241/api/Booking application/json-patch+json 152
2022-07-31 16:51:28.207 +05:30 [INF] CORS policy execution successful.
2022-07-31 16:51:28.207 +05:30 [INF] Executing endpoint 'Controllers.BookingController.Book (HotelManagementSystem)'
2022-07-31 16:51:28.207 +05:30 [INF] Route matched with {action = "Book", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Book(Shared.Models.BookingRequestParams) on controller Controllers.BookingController (HotelManagementSystem).
2022-07-31 16:51:31.143 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HotelDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: SensitiveDataLoggingEnabled 
2022-07-31 16:51:40.988 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__rq_HotelId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[Name], [t].[Rating], [r].[Id], [r].[HotelId], [r].[NumberOfRoomsAvailable], [r].[Price], [r].[RoomTypeVariantId]
FROM (
    SELECT TOP(1) [h].[Id], [h].[Address], [h].[Name], [h].[Rating]
    FROM [Hotels] AS [h]
    WHERE [h].[Id] = @__rq_HotelId_0
) AS [t]
LEFT JOIN [Rooms] AS [r] ON [t].[Id] = [r].[HotelId]
ORDER BY [t].[Id]
2022-07-31 16:51:40.995 +05:30 [ERR] Failed executing DbCommand (6ms) [Parameters=[@p1='2', @p0='-5', @p2='5'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Rooms] SET [NumberOfRoomsAvailable] = @p0
WHERE [Id] = @p1 AND [NumberOfRoomsAvailable] = @p2;
SELECT @@ROWCOUNT;
2022-07-31 16:51:40.997 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'Data.HotelDBContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the CHECK constraint "CheckGreaterThanZero". The conflict occurred in database "HotelManagement", table "dbo.Rooms", column 'NumberOfRoomsAvailable'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:336daef3-dc58-4730-b888-932a733434e7
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the CHECK constraint "CheckGreaterThanZero". The conflict occurred in database "HotelManagement", table "dbo.Rooms", column 'NumberOfRoomsAvailable'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:336daef3-dc58-4730-b888-932a733434e7
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2022-07-31 16:54:01.602 +05:30 [INF] Application Is Starting
2022-07-31 16:54:06.390 +05:30 [INF] Now listening on: https://localhost:7241
2022-07-31 16:54:06.396 +05:30 [INF] Now listening on: http://localhost:5241
2022-07-31 16:54:06.402 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2022-07-31 16:54:06.403 +05:30 [INF] Hosting environment: Development
2022-07-31 16:54:06.403 +05:30 [INF] Content root path: C:\Users\MSUSERSL123\source\repos\HotelManagementSystem\HotelManagementSystem
2022-07-31 16:54:08.027 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/swagger/index.html - -
2022-07-31 16:54:08.613 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/_framework/aspnetcore-browser-refresh.js - -
2022-07-31 16:54:08.614 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/_vs/browserLink - -
2022-07-31 16:54:08.626 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/_framework/aspnetcore-browser-refresh.js - - - 200 12012 application/javascript;+charset=utf-8 11.4145ms
2022-07-31 16:54:08.638 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/swagger/index.html - - - 200 - text/html;charset=utf-8 615.2705ms
2022-07-31 16:54:08.723 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 108.2190ms
2022-07-31 16:54:08.936 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - -
2022-07-31 16:54:09.352 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 416.1109ms
2022-07-31 16:54:30.166 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7241/api/Booking application/json-patch+json 151
2022-07-31 16:54:30.183 +05:30 [INF] CORS policy execution successful.
2022-07-31 16:54:30.372 +05:30 [INF] Executing endpoint 'Controllers.BookingController.Book (HotelManagementSystem)'
2022-07-31 16:54:30.420 +05:30 [INF] Route matched with {action = "Book", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Book(Shared.Models.BookingRequestParams) on controller Controllers.BookingController (HotelManagementSystem).
2022-07-31 16:54:35.706 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2022-07-31 16:54:36.189 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HotelDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: SensitiveDataLoggingEnabled 
2022-07-31 16:54:40.385 +05:30 [INF] Executed DbCommand (247ms) [Parameters=[@__rq_HotelId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[Name], [t].[Rating], [r].[Id], [r].[HotelId], [r].[NumberOfRoomsAvailable], [r].[Price], [r].[RoomTypeVariantId]
FROM (
    SELECT TOP(1) [h].[Id], [h].[Address], [h].[Name], [h].[Rating]
    FROM [Hotels] AS [h]
    WHERE [h].[Id] = @__rq_HotelId_0
) AS [t]
LEFT JOIN [Rooms] AS [r] ON [t].[Id] = [r].[HotelId]
ORDER BY [t].[Id]
2022-07-31 16:54:40.862 +05:30 [ERR] Failed executing DbCommand (36ms) [Parameters=[@p1='2', @p0='-5', @p2='5'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Rooms] SET [NumberOfRoomsAvailable] = @p0
WHERE [Id] = @p1 AND [NumberOfRoomsAvailable] = @p2;
SELECT @@ROWCOUNT;
2022-07-31 16:54:40.941 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'Data.HotelDBContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the CHECK constraint "CheckGreaterThanZero". The conflict occurred in database "HotelManagement", table "dbo.Rooms", column 'NumberOfRoomsAvailable'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:0c9c595a-faf2-4994-9b00-8c814b0fab60
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the CHECK constraint "CheckGreaterThanZero". The conflict occurred in database "HotelManagement", table "dbo.Rooms", column 'NumberOfRoomsAvailable'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:0c9c595a-faf2-4994-9b00-8c814b0fab60
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2022-07-31 16:54:45.188 +05:30 [ERR] Invalid attempt in Book
2022-07-31 16:54:45.207 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2022-07-31 16:54:45.222 +05:30 [INF] Executed action Controllers.BookingController.Book (HotelManagementSystem) in 14792.2467ms
2022-07-31 16:54:45.225 +05:30 [INF] Executed endpoint 'Controllers.BookingController.Book (HotelManagementSystem)'
2022-07-31 16:54:46.671 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7241/api/Booking application/json-patch+json 151 - 400 - text/plain;+charset=utf-8 16505.3112ms
2022-07-31 17:02:59.421 +05:30 [INF] Application Is Starting
2022-07-31 17:03:05.465 +05:30 [INF] Now listening on: https://localhost:7241
2022-07-31 17:03:05.470 +05:30 [INF] Now listening on: http://localhost:5241
2022-07-31 17:03:05.478 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2022-07-31 17:03:05.478 +05:30 [INF] Hosting environment: Development
2022-07-31 17:03:05.478 +05:30 [INF] Content root path: C:\Users\MSUSERSL123\source\repos\HotelManagementSystem\HotelManagementSystem
2022-07-31 17:03:07.203 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/swagger/index.html - -
2022-07-31 17:03:08.075 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/_framework/aspnetcore-browser-refresh.js - -
2022-07-31 17:03:08.106 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/swagger/index.html - - - 200 - text/html;charset=utf-8 892.7384ms
2022-07-31 17:03:08.107 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/_vs/browserLink - -
2022-07-31 17:03:08.139 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/_framework/aspnetcore-browser-refresh.js - - - 200 12012 application/javascript;+charset=utf-8 64.2920ms
2022-07-31 17:03:08.292 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 184.6665ms
2022-07-31 17:03:08.463 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - -
2022-07-31 17:03:08.887 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 424.3244ms
2022-07-31 17:03:28.803 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/api/Hotel?pageNumber=1&pageSize=10 - -
2022-07-31 17:03:28.825 +05:30 [INF] No cached response available for this request.
2022-07-31 17:03:29.004 +05:30 [INF] Executing endpoint 'Controllers.HotelController.GetHotels (HotelManagementSystem)'
2022-07-31 17:03:29.062 +05:30 [INF] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels(Shared.Models.RequestParams) on controller Controllers.HotelController (HotelManagementSystem).
2022-07-31 17:03:31.448 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2022-07-31 17:03:32.032 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HotelDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: SensitiveDataLoggingEnabled 
2022-07-31 17:03:34.400 +05:30 [INF] Executed DbCommand (113ms) [Parameters=[@__requestParams_RoomType_0='2', @__requestParams_HotelName_1='' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Hotels] AS [h]
WHERE EXISTS (
    SELECT 1
    FROM [Rooms] AS [r]
    WHERE ([h].[Id] = [r].[HotelId]) AND (([r].[NumberOfRoomsAvailable] > 0) AND ([r].[RoomTypeVariantId] = @__requestParams_RoomType_0))) AND ((@__requestParams_HotelName_1 LIKE N'') OR (CHARINDEX(@__requestParams_HotelName_1, [h].[Name]) > 0))
2022-07-31 17:03:34.512 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Shared.HotelDTO, Shared, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-07-31 17:03:34.790 +05:30 [INF] Executed action Controllers.HotelController.GetHotels (HotelManagementSystem) in 5711.5299ms
2022-07-31 17:03:34.791 +05:30 [INF] Executed endpoint 'Controllers.HotelController.GetHotels (HotelManagementSystem)'
2022-07-31 17:03:34.792 +05:30 [INF] The response could not be cached for this request.
2022-07-31 17:03:36.884 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/api/Hotel?pageNumber=1&pageSize=10 - - - 200 2 application/json;+charset=utf-8 8080.2785ms
2022-07-31 17:03:48.567 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/api/Hotel?pageNumber=1&roomType=1&pageSize=10 - -
2022-07-31 17:03:48.567 +05:30 [INF] No cached response available for this request.
2022-07-31 17:03:48.573 +05:30 [INF] Executing endpoint 'Controllers.HotelController.GetHotels (HotelManagementSystem)'
2022-07-31 17:03:48.574 +05:30 [INF] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels(Shared.Models.RequestParams) on controller Controllers.HotelController (HotelManagementSystem).
2022-07-31 17:03:48.681 +05:30 [INF] Entity Framework Core 6.0.7 initialized 'HotelDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: SensitiveDataLoggingEnabled 
2022-07-31 17:03:48.715 +05:30 [INF] Executed DbCommand (27ms) [Parameters=[@__requestParams_RoomType_0='1', @__requestParams_HotelName_1='' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Hotels] AS [h]
WHERE EXISTS (
    SELECT 1
    FROM [Rooms] AS [r]
    WHERE ([h].[Id] = [r].[HotelId]) AND (([r].[NumberOfRoomsAvailable] > 0) AND ([r].[RoomTypeVariantId] = @__requestParams_RoomType_0))) AND ((@__requestParams_HotelName_1 LIKE N'') OR (CHARINDEX(@__requestParams_HotelName_1, [h].[Name]) > 0))
2022-07-31 17:03:48.791 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-07-31 17:03:48.792 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-07-31 17:03:49.027 +05:30 [INF] Executed DbCommand (30ms) [Parameters=[@__requestParams_RoomType_0='1', @__requestParams_HotelName_1='' (Size = 4000), @__p_2='0', @__p_3='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[Name], [t].[Rating], [r0].[Id], [r0].[HotelId], [r0].[NumberOfRoomsAvailable], [r0].[Price], [r0].[RoomTypeVariantId]
FROM (
    SELECT [h].[Id], [h].[Address], [h].[Name], [h].[Rating]
    FROM [Hotels] AS [h]
    WHERE EXISTS (
        SELECT 1
        FROM [Rooms] AS [r]
        WHERE ([h].[Id] = [r].[HotelId]) AND (([r].[NumberOfRoomsAvailable] > 0) AND ([r].[RoomTypeVariantId] = @__requestParams_RoomType_0))) AND ((@__requestParams_HotelName_1 LIKE N'') OR (CHARINDEX(@__requestParams_HotelName_1, [h].[Name]) > 0))
    ORDER BY (SELECT 1)
    OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
) AS [t]
LEFT JOIN [Rooms] AS [r0] ON [t].[Id] = [r0].[HotelId]
ORDER BY [t].[Id]
2022-07-31 17:03:49.065 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Shared.HotelDTO, Shared, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-07-31 17:03:49.106 +05:30 [INF] Executed action Controllers.HotelController.GetHotels (HotelManagementSystem) in 531.7963ms
2022-07-31 17:03:49.107 +05:30 [INF] Executed endpoint 'Controllers.HotelController.GetHotels (HotelManagementSystem)'
2022-07-31 17:03:49.111 +05:30 [INF] The response could not be cached for this request.
2022-07-31 17:03:50.731 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/api/Hotel?pageNumber=1&roomType=1&pageSize=10 - - - 200 416 application/json;+charset=utf-8 2164.4773ms
2022-07-31 17:05:27.916 +05:30 [INF] Application Is Starting
2022-07-31 17:05:32.143 +05:30 [INF] Now listening on: https://localhost:7241
2022-07-31 17:05:32.149 +05:30 [INF] Now listening on: http://localhost:5241
2022-07-31 17:05:32.155 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2022-07-31 17:05:32.156 +05:30 [INF] Hosting environment: Development
2022-07-31 17:05:32.156 +05:30 [INF] Content root path: C:\Users\MSUSERSL123\source\repos\HotelManagementSystem\HotelManagementSystem
2022-07-31 17:05:33.899 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/swagger/index.html - -
2022-07-31 17:05:34.500 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/_framework/aspnetcore-browser-refresh.js - -
2022-07-31 17:05:34.510 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/_vs/browserLink - -
2022-07-31 17:05:34.551 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/swagger/index.html - - - 200 - text/html;charset=utf-8 651.6920ms
2022-07-31 17:05:34.602 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/_framework/aspnetcore-browser-refresh.js - - - 200 12012 application/javascript;+charset=utf-8 102.3299ms
2022-07-31 17:05:34.737 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 227.0758ms
2022-07-31 17:05:34.875 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - -
2022-07-31 17:05:35.298 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7241/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 423.0532ms
